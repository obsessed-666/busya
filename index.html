<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ë—É—Å–∏</title>
<link href="https://fonts.googleapis.com/css2?family=Marck+Script&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<style>
/* ---------------- Reset & base ---------------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:#070712;color:#fff;font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto; -webkit-font-smoothing:antialiased;}
img{display:block;max-width:100%;-webkit-user-drag:none;user-select:none}

/* Enable vertical swipe/scroll and snap sections */
body{
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  scroll-behavior:smooth;
  scroll-snap-type: y mandatory;
}

/* each main section fills viewport and snaps to start */
.section{
  min-height:100vh;
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
  scroll-snap-align:start;
  position:relative;
}

/* page subtle breathing */
#page{animation:breathe 20s ease-in-out infinite}
@keyframes breathe{0%{transform:scale(1)}50%{transform:scale(1.004)}100%{transform:scale(1)}}

/* ---------------- Backgrounds ---------------- */
.bg-mystic, .bg-romantic { position:fixed; inset:0; z-index:-20; pointer-events:none; overflow:hidden; }
.bg-mystic { background: linear-gradient(180deg,#071021,#02030a); }
.bg-mystic .mist { position:absolute; inset:-10%; opacity:.9; filter: blur(10px); mix-blend-mode:overlay; }
.bg-mystic .mist.s1{ background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.04), transparent 14%); animation:mistA 36s linear infinite; }
.bg-mystic .mist.s2{ background: radial-gradient(circle at 75% 70%, rgba(18,22,30,0.045), transparent 14%); animation:mistB 46s linear infinite; opacity:.85; }
@keyframes mistA{0%{transform:translateY(0)}50%{transform:translateY(-80px)}100%{transform:translateY(0)}}
@keyframes mistB{0%{transform:translateY(0)}50%{transform:translateY(-140px)}100%{transform:translateY(0)}}

/* romantic background - initially hidden */
.bg-romantic { display:none; background: linear-gradient(120deg,#2b1055,#7597de,#ff6ec7); background-size:400% 400%; transition: all .7s ease; }
.bg-romantic .hearts-layer { position:absolute; inset:0; pointer-events:none; opacity:.28; mix-blend-mode:screen; filter:blur(6px); transition:opacity .6s ease, transform .6s ease; }
.bg-romantic.active .hearts-layer { opacity:0.6; transform:scale(1.02) }

/* cinematic vignette */
.cinema{pointer-events:none;position:fixed;inset:0;z-index:30}
.cinema::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at center, rgba(255,255,255,0.03) 0%, rgba(0,0,0,0.0) 36%, rgba(0,0,0,0.66) 100%);mix-blend-mode:overlay}
.cinema::after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center, rgba(255,255,255,0.12), transparent 60%);filter:blur(64px);opacity:.28}

/* cinematic film overlay (grain + burn) - CSS only */
.film-overlay{ pointer-events:none; position:fixed; inset:0; z-index:120; mix-blend-mode:overlay; display:none; }
.film-grain{ position:absolute; inset:0; background-image: repeating-linear-gradient(0deg, rgba(0,0,0,0.02) 0 1px, rgba(255,255,255,0.01) 1px 2px); opacity:0.12; animation:grainMove 1.2s steps(4) infinite; }
@keyframes grainMove{0%{transform:translate(0,0)}25%{transform:translate(-2px,1px)}50%{transform:translate(1px,-2px)}75%{transform:translate(-1px,2px)}100%{transform:translate(0,0)}}
.film-burn{ position:absolute; inset:0; background: radial-gradient(circle at 20% 80%, rgba(255,120,60,0.08), transparent 20%), radial-gradient(circle at 80% 10%, rgba(255,80,120,0.06), transparent 18%); opacity:0.5; animation:burnPulse 6s ease-in-out infinite; }
@keyframes burnPulse{0%{opacity:.45}50%{opacity:.7}100%{opacity:.45}}

/* ---------------- Intro (cat) ---------------- */
.cat-frame { border-radius:22px; padding:12px; background:linear-gradient(180deg,#2b1f16,#1b1209); box-shadow: 0 40px 140px rgba(0,0,0,0.7); border:6px solid rgba(255,255,255,0.03); }
.cat-frame::after{ content:''; position:absolute; inset:6px; border-radius:16px; pointer-events:none; box-shadow: inset 0 30px 60px rgba(0,0,0,0.24); }
#cat { display:block; width:80vw; max-width:480px; border-radius:12px; }

/* hint placed below image */
.cat-block { display:flex; flex-direction:column; align-items:center; gap:12px; }
.hint { font-size:14px; background:rgba(0,0,0,0.14); padding:8px 12px; border-radius:999px; color:rgba(255,255,255,0.96) }

/* subtle cat float */
@keyframes catFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.cat-frame { animation:catFloat 6s ease-in-out infinite }

/* ---------------- Story ---------------- */
.story-wrap { width:100%; max-width:920px; padding:28px; background: linear-gradient(180deg, rgba(10,12,18,0.12), rgba(5,6,8,0.06)); border-radius:14px; box-shadow: 0 30px 60px rgba(0,0,0,0.6); backdrop-filter: blur(6px); color:#eaeaf0; font-size:16px; line-height:1.74; text-align:left; }
.story-par{ margin-bottom:16px; }

/* SPOILER visual */
.spoiler { position:relative; display:inline-block; padding:12px 14px; border-radius:12px; background: linear-gradient(180deg,#0f1016,#0b0b11); cursor:pointer; overflow:visible; }
.spoiler .veil { position:absolute; inset:0; z-index:3; pointer-events:none; border-radius:12px; background: linear-gradient(120deg, rgba(20,22,28,0.9), rgba(6,8,10,0.96)); backdrop-filter: blur(12px) saturate(.92); mix-blend-mode:overlay; transition: transform .55s cubic-bezier(.2,.9,.3,1), opacity .55s; }
.spoiler .veil::before{ content:""; position:absolute; inset:0; background: repeating-linear-gradient(90deg, rgba(255,255,255,0.01) 0 1px, transparent 1px 4px); opacity:.06 }
.spoiler .line { position:relative; z-index:2; color:transparent; font-size:16px; transition: color .55s ease, text-shadow .55s ease; }
.spoiler .beer-word { position:relative; z-index:4; color:transparent; cursor:pointer; font-weight:700; pointer-events:auto; text-decoration:none; }
.spoiler.open .veil { transform: translateY(-120%); opacity:0; }
.spoiler.open .line { color:#fff; text-shadow:0 6px 18px rgba(0,0,0,0.6); }
.spoiler.open .beer-word { color:#ffd166; text-decoration:underline; }

/* ---------------- Beer visuals ---------------- */
#beerLayer { position:fixed; inset:0; z-index:60; pointer-events:none; }
#beerSprite { position:absolute; left:50%; top:-420px; width:180px; transform:translateX(-50%) rotate(0deg); filter: drop-shadow(0 40px 100px rgba(0,0,0,.6)); display:none; will-change: transform, top; }
.splash { position:absolute; border-radius:50%; background:radial-gradient(circle,#ffd86a,#c98a2b); opacity:0; pointer-events:none; z-index:62; }
.puddle { position:absolute; left:50%; transform:translateX(-50%); bottom:12vh; width:18px; height:8px; border-radius:999px; background: radial-gradient(circle,#ffd86a,#ffb14a); filter:blur(3px); opacity:0; box-shadow:0 10px 28px rgba(0,0,0,.5); }
.ripple { position:absolute; left:50%; transform:translateX(-50%); bottom:12vh; border-radius:50%; background: radial-gradient(circle,#ffd86a44, transparent 60%); opacity:0; }

/* ---------------- Memes ---------------- */
.meme-frame { position:fixed; z-index:80; width:140px; padding:8px; border-radius:10px; background: linear-gradient(180deg,#2b2012,#1b130a); box-shadow: 0 40px 100px rgba(0,0,0,0.7); border:8px solid rgba(20,14,7,0.9); overflow:hidden; cursor:pointer; transform-origin:center; }
.meme-frame img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.05); }
.meme-frame::after{ content:''; position:absolute; inset:0; box-shadow: inset 0 0 80px rgba(0,0,0,0.6); }

/* ---------------- Confession ---------------- */
#sceneLove { display:flex; align-items:center; justify-content:center; min-height:100vh; padding:28px; }
.confession-box{ max-width:900px; padding:26px; border-radius:14px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); box-shadow: 0 40px 120px rgba(0,0,0,0.6); font-family:'Marck Script', cursive; color:#ffdfe8; font-size:22px; line-height:1.7; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center; }
.confession-box p{ opacity:0; transform:translateY(12px); transition:transform .45s ease, opacity .45s ease; margin-bottom:10px; }
.confessionChar{ display:inline-block; transform-origin:center bottom; }

/* gentle breathing of whole text block */
.breathing { animation:breathText 3.6s ease-in-out infinite; display:inline-block; }
@keyframes breathText{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-4px) scale(1.006)}100%{transform:translateY(0) scale(1)}}

/* per-char bounce animation (tiny) */
@keyframes charBounce{0%{transform:translateY(0)}40%{transform:translateY(-6px)}70%{transform:translateY(-3px)}100%{transform:translateY(0)}}

/* heart button */
.heart-btn{ font-size:48px; margin-top:14px; cursor:pointer; color:#ff4671; }

/* video overlay */
#videoOverlay{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:160; background:rgba(0,0,0,0.96); }
#videoOverlay video{ width:94vw; max-width:940px; border-radius:12px; box-shadow:0 30px 100px rgba(0,0,0,0.7); }

/* page shake class */
.page-shake{ animation:pageShake .7s linear }
@keyframes pageShake{0%{transform:translate(0)}20%{transform:translate(-6px,4px)}40%{transform:translate(6px,-6px)}60%{transform:translate(-4px,3px)}80%{transform:translate(4px,-3px)}100%{transform:translate(0)}}

/* responsive (iPhone 14 Plus width ~430-430px) */
@media (max-width:430px){
  .confession-box{ font-size:20px; padding:20px }
  .meme-frame{ width:120px }
  #cat{ max-width:86vw }
}
</style>
</head>
<body>
<div id="page">

  <!-- Background layers -->
  <div class="bg-mystic" id="bgMystic">
    <div class="mist s1"></div>
    <div class="mist s2"></div>
  </div>

  <div class="bg-romantic" id="bgRomantic">
    <div class="hearts-layer"></div>
    <div id="romParticles" style="position:absolute;inset:0;pointer-events:none"></div>
  </div>

  <div class="cinema"></div>

  <!-- cinematic film overlay -->
  <div class="film-overlay" id="filmOverlay">
    <div class="film-grain"></div>
    <div class="film-burn"></div>
  </div>

  <!-- SECTION 1: Intro (cat) -->
  <section class="section" id="sectionIntro" aria-label="–ö–æ—Ç –ë—É—Å—è">
    <div class="cat-block">
      <div class="cat-frame" role="button" aria-label="–ù–∞–∂–º–∏ –Ω–∞ –∫–æ—Ç–∏–∫–∞" id="catFrame">
        <img id="cat" src="cat.jpg" alt="–∫–æ—Ç –ë—É—Å—è ‚Äî –Ω–∞–∂–º–∏" />
      </div>
      <div class="hint" id="catHint">–Ω–∞–∂–º–∏ –Ω–∞ –∫–æ—Ç–∏–∫–∞ üêæ</div>
    </div>
  </section>

  <!-- SECTION 2: Story -->
  <section class="section" id="sectionStory" aria-label="–†–∞—Å—Å–∫–∞–∑" style="align-items:flex-start;">
    <div class="story-wrap" style="margin-top:10vh;">
      <!-- FULL STORY: exact text as provided by you -->
      <div id="story">
        <p class="story-par">–û–¥–Ω–∞–∂–¥—ã —è —Å–∏–¥–µ–ª –∫–∞–∫ –Ω–∏ –≤ —á—ë–º –Ω–µ –±—ã–≤–∞–ª–æ –¥–æ–º–∞, —Å–ª—É—à–∞–ª –≥—Ä—É—Å—Ç–Ω—É—é –º—É–∑—ã–∫—É, —Å–º–æ—Ç—Ä–µ–ª –≤ –æ–∫–Ω–æ, –¥—É–º–∞–ª –æ —Å–≤–æ—ë–º —Ç–ª–µ–Ω–Ω–æ–º –±—É–¥—É—â–µ–º, –∫–∞–∫ –≤–¥—Ä—É–≥‚Ä¶ –∑–≤–æ–Ω–æ–∫ –≤ –¥–≤–µ—Ä—å. –Ø –æ–ø–µ—à–∏–ª, –≤–µ–¥—å –±—ã–ª–æ 3 —á–∞—Å–∞ –Ω–æ—á–∏, –∏ —è –Ω–∏–∫–æ–≥–æ –Ω–µ –∂–¥–∞–ª. –í —Ç–æ—Ç –¥–µ–Ω—å –æ—â—É—â–µ–Ω–∏—è –ø–æ–∏—Å—Ç–∏–Ω–µ –±—ã–ª–∏ —Å—Ç—Ä–∞–Ω–Ω—ã–µ. –ù–∞ –¥–≤–æ—Ä–µ —Å—Ç–æ—è–ª–∞ –ª—ë–≥–∫–∞—è –¥—ã–º–∫–∞, –∞ –Ω–∞ –Ω–µ–±–µ –æ—Ç—á—ë—Ç–ª–∏–≤–æ –≤–∏–¥–Ω–µ–ª–∞—Å—å —è—Ä–∫–∞—è –ø–æ–ª–Ω–∞—è –ª—É–Ω–∞, –ø—Ä—è–º–æ –∫–∞–∫ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Äî –º—Ä–∞—á–Ω–∞—è –∏ –∑–∞–≥–∞–¥–æ—á–Ω–∞—è. –ü–æ–≥–æ–¥–∞ –∑–∞ –æ–∫–Ω–æ–º –ª–∏—à—å –¥–æ–±–∞–≤–ª—è–ª–∞ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é.</p>

        <p class="story-par">¬´–£ —Å–æ—Å–µ–¥–∞, –Ω–∞–≤–µ—Ä–Ω–æ–µ, —á—Ç–æ-—Ç–æ —Å—Ç—Ä—è—Å–ª–æ—Å—å¬ª, ‚Äî –ø–æ—á–µ—Å–∞–≤ —Ä–µ–ø—É, –ø–æ–¥—É–º–∞–ª —è. –ù–æ —á—É–≤—Å—Ç–≤–æ —Ç—Ä–µ–≤–æ–≥–∏ –∑–∞—Ç–º–∏–ª–æ –º–æ–π —Ä–∞—Å—Å—É–¥–æ–∫, –∏ —è –º–µ–¥–ª–µ–Ω–Ω–æ, —Ç–∏—Ö–∏–º —à–∞–≥–æ–º –ø–æ–¥–æ—à—ë–ª –∫ –≤—Ö–æ–¥–Ω–æ–π –¥–≤–µ—Ä–∏. –°—Ç–æ—è–ª–∞ –ø–æ–ª–Ω–µ–π—à–∞—è —Ç–∏—à–∏–Ω–∞. –Ø –ø—ã—Ç–∞–ª—Å—è –ø—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è –∫ –∑–≤—É–∫–∞–º –ø–æ —Ç—É —Å—Ç–æ—Ä–æ–Ω—É –¥–≤–µ—Ä–∏, –Ω–æ –∏—Ö –Ω–µ –±—ã–ª–æ. –Ø —Å—Ç–æ—è–ª —Ç–∞–∫ –≥–¥–µ-—Ç–æ –º–∏–Ω—É—Ç—É, –Ω–æ –ø–æ –æ—â—É—â–µ–Ω–∏—è–º –æ–Ω–∞ –¥–ª–∏–ª–∞—Å—å —Ü–µ–ª—É—é –≤–µ—á–Ω–æ—Å—Ç—å. –í –≥–æ–ª–æ–≤–µ –±—ã–ª–∞ –ª–∏—à—å —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å –∏ —Å–º—è—Ç–µ–Ω–∏–µ.</p>

        <p class="story-par">–ö–∞–∫ –≤–¥—Ä—É–≥ —è —É—Å–ª—ã—à–∞–ª —Å—Ç—Ä–∞–Ω–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø, –±—É–¥—Ç–æ –∫—Ç–æ-—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ –≤–æ–¥–∏–ª –Ω–æ–≥—Ç–µ–º –ø–æ —Å—Ç–∞–ª—å–Ω–æ–º—É –ª–∏—Å—Ç—É. –Ø —Å–∏–ª—å–Ω–æ –Ω–∞–ø—Ä—è–≥—Å—è, –≤—Å—ë —Ç–µ–ª–æ —Å –≥–æ–ª–æ–≤—ã –¥–æ –Ω–æ–≥ –ø—Ä–æ–±—Ä–∞–ª–æ –º—É—Ä–∞—à–∫–∞–º–∏, —è –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª —Ä–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞ ‚Äî —Ä–∞–∑—É–º —è–≤–Ω–æ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª, —á—Ç–æ —á—Ç–æ-—Ç–æ —Ç—É—Ç –Ω–µ —Ç–∞–∫. –Ø –Ω–∞–±—Ä–∞–ª—Å—è —Å–º–µ–ª–æ—Å—Ç–∏ –∏, —Å—Ü–µ–ø–∏–≤ –∑—É–±—ã, –≤—ã–¥–∞–≤–∏–ª –∏–∑ —Å–µ–±—è: ‚ÄûWer ist da?‚Äú –ù–æ, –∫–∞–∫ —è –∏ –æ–∂–∏–¥–∞–ª, –æ—Ç–≤–µ—Ç–∞ –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–æ. –õ–∏—à—å —ç—Ç–æ—Ç –¥–æ –¥—Ä–æ–∂–∏ –ø—Ä–æ—Ç–∏–≤–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∑–≤—É–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–Ω–∏–∫–∞–ª –≤ –∫–∞–∂–¥—É—é –∫–ª–µ—Ç–æ—á–∫—É –º–æ–∑–≥–∞‚Ä¶ –û—â—É—â–∞–ª–æ—Å—å, –±—É–¥—Ç–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä—è–º–æ —É –º–µ–Ω—è –≤ –≥–æ–ª–æ–≤–µ, –±—É–¥—Ç–æ –∫—Ç–æ-—Ç–æ —Å –∏–∑–¥—ë–≤–∫–æ–π –≤–æ–¥–∏—Ç –ø–æ –Ω–µ–º—É —Å–∫—Ä–∏–ø—É—á–µ–π –∂–µ–ª–µ–∑—è–∫–æ–π.</p>

        <p class="story-par">–ò –≤–¥—Ä—É–≥ ‚Äî —Ç–∏—à–∏–Ω–∞. –°–Ω–æ–≤–∞. –Ø –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ –∫—Ç–æ –±—ã —Ç–æ –Ω–∏ –±—ã–ª –∑–∞ –¥–≤–µ—Ä—å—é, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ —É—Å–ª—ã—à–∞–ª, –∫–∞–∫ —è —Å—Ç–æ—é –∏ –º–æ–ª—á–∞ —Å–ª—É—à–∞—é, –≤–Ω–∏–º–∞—è —ç—Ç–æ—Ç –ø—Å–∏—Ö–æ–¥–µ–ª–∏—á–µ—Å–∫–∏–π —É–∂–∞—Å. –ì–¥–µ-—Ç–æ —Å–ø—É—Å—Ç—è —Å–µ–∫—É–Ω–¥ 20 —Ä–∞–∑–¥–∞–ª—Å—è –≥—Ä–æ–º–∫–∏–π –∂–µ–ª–µ–∑–Ω—ã–π –∑–≤—É–∫ ‚Äî –∑–≤—É–∫ –ø–∞–¥–µ–Ω–∏—è –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ –º–æ–µ–π –≥—Ä—ë–±–∞–Ω–Ω–æ–π –¥–≤–µ—Ä—å—é. –Ø –Ω–∞–±—Ä–∞–ª—Å—è —Å–º–µ–ª–æ—Å—Ç–∏ –∏ –ø—Ä–∏—Å–ª–æ–Ω–∏–ª —É—Ö–æ –∫ –¥–≤–µ—Ä–∏, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∂–µ —É–ø–∞–ª–æ... –∏ —á—Ç–æ, —á—ë—Ä—Ç –≤–æ–∑—å–º–∏, —Ç—É—Ç –≤–æ–æ–±—â–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.</p>

        <p class="story-par">–ö–∞–∫ –≤–¥—Ä—É–≥, –∫–∞–∫ –≥—Ä–æ–º —Å—Ä–µ–¥–∏ —è—Å–Ω–æ–≥–æ –¥–Ω—è, –∫–∞–∫ —Å–Ω–µ–≥ –≤ –∏—é–ª–µ, —è —É—Å–ª—ã—à–∞–ª –Ω–µ–∂–Ω—ã–π, –º–∏–ª—ã–π –∏ –¥–æ –±–æ–ª–∏ –∑–Ω–∞–∫–æ–º—ã–π –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–µ—Å–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∏–∑–Ω—ë—Å:</p>

        <!-- SPOILER - hidden -->
        <div class="spoiler" id="finalSpoiler" role="button" tabindex="0" aria-pressed="false" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω—á–ª–∞–π–Ω">
          <div class="veil" aria-hidden="true"></div>
          <div class="line">‚Äî –û–π, –∏–∑–≤–∏–Ω–∏, —É –º–µ–Ω—è <span class="beer-word" id="beerWord">–ø–∏–≤–æ</span> —É–ø–∞–ª–æ.</div>
        </div>
      </div>
    </div>

    <!-- beer layer (absolute) -->
    <div id="beerLayer" aria-hidden="true">
      <img id="beerSprite" src="beer.png" alt="–±–∞–Ω–∫–∞ Desperados" />
      <div class="puddle" id="puddle"></div>
      <div class="ripple" id="ripple"></div>
    </div>
  </section>

  <!-- SECTION 3: Memes (spawned) -->
  <section class="section" id="sectionMemes" aria-label="–ú–µ–º—ã" style="align-items:center;">
    <!-- frames are injected by JS -->
  </section>

  <!-- SECTION 4: Confession -->
  <section class="section" id="sectionLove" aria-label="–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ" style="align-items:center;justify-content:center;">
    <div id="loveOverlay" style="width:100%;display:flex;align-items:center;justify-content:center;">
      <div class="confession-box" role="dialog" aria-label="–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ">
        <!-- FULL CONFESSION TEXT: exact text supplied by you -->
        <div id="confessionText" style="text-align:center;">
          –±—É—Å—è, –∫–æ—Ç–∏–∫, —è –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å —Ç–æ–±–æ–π –ª–∏—à—å –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥, –Ω–æ –≤–æ –º–Ω–µ —Ç–µ–ø–ª–∏—Ç—Å—è —á—É–≤—Å—Ç–≤–æ, –±—É–¥—Ç–æ —è –∑–Ω–∞–ª —Ç–µ–±—è –≤–æ –≤—Å–µ—Ö —Å–≤–æ–∏—Ö –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω—è—Ö, –≤–µ–¥—å –±–æ–ª–µ–µ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç—á–∞ –Ω–∞ –∑–µ–º–ª–µ –µ—â–µ –Ω–µ –±—ã–ª–æ. –∏ –Ω–µ –±—É–¥–µ—Ç. —Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–∞—Ä–∏—à—å –º–Ω–µ —Ç—É —Å–∞–º—É—é —Ä–∞–¥–æ—Å—Ç—å –∏ —É–ª—ã–±–∫—É, –∫–æ—Ç–æ—Ä—ã—Ö —É –º–µ–Ω—è –æ—á–µ–Ω—å –¥–∞–≤–Ω–æ –Ω–µ –±—ã–ª–æ. –ø–æ–ª–≥–æ–¥–∞ –Ω–∞–∑–∞–¥ —è –∏ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —Å–º–æ–≥—É –ø–æ–ª—é–±–∏—Ç—å –∫–æ–≥–æ-—Ç–æ —Ç–∞–∫ —Å–∏–ª—å–Ω–æ –∫–∞–∫ —Ç–µ–±—è. –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –∂–¥—É –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏, —è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Ü–µ–ª—É—é —Ç–µ–±—è –ø–æ–¥ –ø—Ä–∏–ø–µ–≤ —ç—Ç–æ–π –ø–µ—Å–Ω–∏
        </div>
        <div style="margin-top:18px; text-align:center;">
          <div class="heart-btn" id="heartBtn" tabindex="0" role="button" aria-label="–ù–∞–∂–∞—Ç—å —Å–µ—Ä–¥–µ—á–∫–æ">üíò</div>
          <div style="margin-top:8px;color:#ffd6e0;font-size:13px">—Å–µ—Ä–¥–µ—á–∫–æ —Ç—ã–∫</div>
        </div>
      </div>
    </div>
  </section>

  <!-- VIDEO overlay -->
  <div id="videoOverlay" style="display:none;align-items:center;justify-content:center;">
    <video id="secretVideo" src="video.mp4" controls playsinline webkit-playsinline></video>
  </div>

  <!-- AUDIO -->
  <audio id="darkMusic" src="dark.mp3" preload="auto"></audio>
  <audio id="loveMusic" src="love.mp3" preload="auto"></audio>

</div> <!-- /page -->

<script>
/* ===========================
  Main interaction script
  - preserves exact story and confession
  - enables: scroll-snap vertical swipe
  - spoiler -> beer drop -> splash -> memes -> confession
  - confession centered, per-letter bounce, heart particles + film overlay
===========================*/

/* helpers */
const $ = s => document.querySelector(s)
const $$ = s => Array.from(document.querySelectorAll(s))
const clamp = (v, a, b) => Math.max(a, Math.min(b, v))

/* elements */
const sectionIntro = $('#sectionIntro')
const sectionStory = $('#sectionStory')
const sectionMemes = $('#sectionMemes')
const sectionLove = $('#sectionLove')
const bgRomantic = $('#bgRomantic')
const finalSpoiler = $('#finalSpoiler')
const beerWord = $('#beerWord')
const beerSprite = $('#beerSprite')
const puddle = $('#puddle')
const ripple = $('#ripple')
const darkMusic = $('#darkMusic')
const loveMusic = $('#loveMusic')
const confessionText = $('#confessionText')
const filmOverlay = $('#filmOverlay')
const romParticles = $('#romParticles')
const videoOverlay = $('#videoOverlay')
const secretVideo = $('#secretVideo')

/* initial states */
bgRomantic.style.display = 'none'
filmOverlay.style.display = 'none'
beerSprite.style.display = 'none'
puddle.style.opacity = 0
ripple.style.opacity = 0
let beerRunning = false

/* audio setup */
darkMusic.volume = 0
loveMusic.volume = 0

function fadeAudio(audio, target=0.2, ms=900){
  if(!audio) return
  const start = audio.volume || 0
  const steps = 20
  const dt = Math.max(8, Math.round(ms/steps))
  let i=0
  const t = setInterval(()=>{ i++; audio.volume = Math.max(0, Math.min(1, start + (target-start)*(i/steps))); if(i>=steps) clearInterval(t) }, dt)
}
function playWithFade(audio, target=0.2, ms=900){
  if(!audio) return
  audio.volume = 0
  try{ audio.currentTime = 0 }catch(e){}
  audio.play().catch(()=>{})
  fadeAudio(audio, target, ms)
}

/* Unlock audio on first gesture (mobile policies) */
let firstGesture = false
function unlockAudio(){ if(firstGesture) return; firstGesture=true; try{ darkMusic.play().catch(()=>{}); darkMusic.pause(); }catch(e){}; try{ loveMusic.play().catch(()=>{}); loveMusic.pause(); }catch(e){} }
window.addEventListener('touchstart', unlockAudio, {once:true,passive:true})
window.addEventListener('click', unlockAudio, {once:true})

/* Intro -> Story on tap */
$('#catFrame').addEventListener('click', ()=>{
  sectionStory.scrollIntoView({behavior:'smooth'})
  playWithFade(darkMusic, 0.18, 1200)
})
$('#catFrame').addEventListener('touchend', e=>{ e.preventDefault(); $('#catFrame').click() }, {passive:false})

/* Spoiler: reveal on click; beerWord triggers beer drop */
finalSpoiler.addEventListener('click', function(ev){
  if(ev.target && ev.target.closest && ev.target.closest('.beer-word')) return;
  if(this.classList.contains('open')) return
  this.classList.add('open')
  this.setAttribute('aria-pressed','true')
})
finalSpoiler.addEventListener('keydown', ev=>{ if(ev.key==='Enter' || ev.key===' ') { ev.preventDefault(); finalSpoiler.click() } })

/* Beer fall physics (lightweight) */
beerWord.addEventListener('click', ev=>{
  ev.stopPropagation()
  if(!finalSpoiler.classList.contains('open')){ finalSpoiler.classList.add('open'); finalSpoiler.setAttribute('aria-pressed','true') }
  if(beerRunning) return
  beerRunning = true

  if(darkMusic.paused) playWithFade(darkMusic, 0.18, 700)

  beerSprite.style.display = 'block'
  beerSprite.style.left = (window.innerWidth/2) + 'px'
  beerSprite.style.top = '-420px'
  const state = { x: window.innerWidth/2, y:-420, vx:(Math.random()*240-120)*0.002, vy:0, angle: Math.random()*40-20, av: Math.random()*8-4 }
  const gravity = 3000
  const damping = 0.996
  const groundY = Math.round(window.innerHeight * 0.66)
  let last = performance.now()
  let landed = false
  let bounces = 0

  for(let i=0;i<5;i++){
    const b = document.createElement('div')
    b.style.position='absolute'; b.style.left=`calc(50% + ${Math.random()*80-40}px)`; b.style.top=`${-420 + i*30}px`
    const size = 6 + Math.random()*8; b.style.width = b.style.height = size+'px'; b.style.borderRadius='50%'; b.style.background='radial-gradient(circle,#fff8ea,#ffdcb2)'; b.style.zIndex=62
    document.body.appendChild(b)
    b.animate([{transform:'translateY(0)', opacity:1},{transform:`translateY(${groundY}px)`, opacity:0}],{duration:1900+Math.random()*400, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
    setTimeout(()=>b.remove(),2200+Math.random()*600)
  }

  function step(now){
    const dt = Math.min((now - last)/1000, 0.05)
    last = now
    state.vy += gravity * dt
    state.x += state.vx * dt * 1000
    state.y += state.vy * dt
    state.vx *= damping
    state.angle += state.av * dt * 60
    state.av *= 0.998

    beerSprite.style.left = state.x + 'px'
    beerSprite.style.top = state.y + 'px'
    beerSprite.style.transform = `translateX(-50%) rotate(${state.angle}deg)`

    if(state.y >= groundY && !landed){
      landed = true
      bounces++
      state.y = groundY
      state.vy = -state.vy * (0.22 + Math.random()*0.12)
      state.vx *= 0.55
      state.av *= 0.36
      impactEffects()
      document.body.classList.add('page-shake')
      if(navigator.vibrate) try{ navigator.vibrate([80,40,80]) }catch(e){}
      setTimeout(()=>document.body.classList.remove('page-shake'),900)
    }

    if(landed && Math.abs(state.vy) > 90 && bounces < 6){
      landed = false
    } else if(landed && Math.abs(state.vy) <= 90){
      state.vy = 0; state.av = 0; state.vx = 0
      beerSprite.style.top = groundY + 'px'
      beerSprite.style.transform = `translateX(-50%) rotate(${state.angle}deg)`
      setTimeout(()=> afterLanding(), 700)
      return
    }
    requestAnimationFrame(step)
  }
  last = performance.now()
  requestAnimationFrame(step)
})

/* impact visual: splashes, puddle, ripple */
function impactEffects(){
  const splCount = 20
  const maxW = Math.min(window.innerWidth * 0.72, 820)
  for(let i=0;i<splCount;i++){
    const s = document.createElement('div'); s.className='splash'
    const size = 8 + Math.random()*28; s.style.width=size+'px'; s.style.height=size+'px'
    s.style.left = `calc(50% + ${Math.random()*420 - 210}px)`; s.style.bottom = '18vh'; s.style.position='absolute'; s.style.zIndex=62
    document.body.appendChild(s)
    const tx = (Math.random()*360 - 180); const ty = -100 - Math.random()*80
    s.animate([{transform:'translate(0,0) scale(.4)', opacity:1}, {transform:`translate(${tx}px, ${ty}px) scale(${1+Math.random()})`, opacity:0}], { duration:900+Math.random()*700, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' })
    setTimeout(()=> s.remove(), 1400 + Math.random()*700)
  }
  puddle.style.display='block'; puddle.style.opacity=1
  const maxWidth = Math.min(window.innerWidth * 0.72, 820)
  puddle.animate([{width:'18px', opacity:1},{width: maxWidth+'px', opacity:1}], {duration:1200, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
  ripple.style.display='block'; ripple.style.opacity=0.9
  ripple.animate([{width:'18px', height:'18px', opacity:.9},{width:maxWidth+'px', height:Math.min(150, maxWidth/6)+'px', opacity:.12}], {duration:1100, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
  for(let i=0;i<12;i++){
    const foam = document.createElement('div')
    foam.style.position='absolute'; foam.style.left = `calc(50% + ${Math.random()*maxWidth - maxWidth/2}px)`; foam.style.bottom='calc(12vh + 4px)'
    const s = 3 + Math.random()*7; foam.style.width = foam.style.height = s+'px'; foam.style.background='#fff6e6'; foam.style.borderRadius='50%'; foam.style.zIndex=71
    document.body.appendChild(foam)
    foam.animate([{transform:'translateY(0)',opacity:1},{transform:'translateY(-40px)',opacity:0}], {duration:1100+Math.random()*1000, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
    setTimeout(()=> foam.remove(), 1800 + Math.random()*900)
  }
}

/* After landing: change mood -> spawn memes -> scroll to memes section */
function afterLanding(){
  bgRomantic.style.display = 'block'
  try{ fadeAudio(darkMusic, 0, 600); setTimeout(()=> darkMusic.pause(),700) }catch(e){}
  try{ playWithFade(loveMusic, 0.26, 900) }catch(e){}
  spawnMemes()
  sectionMemes.scrollIntoView({behavior:'smooth'})
}

/* spawn framed memes with faster drift and random rotation */
function spawnMemes(){
  sectionMemes.innerHTML = ''
  const count = 10
  for(let i=0;i<count;i++){
    const frame = document.createElement('div'); frame.className='meme-frame'
    const w = 120 + Math.random()*160; frame.style.width = w+'px'
    frame.style.left = (6 + Math.random()*84) + 'vw'; frame.style.top = (8 + Math.random()*80) + 'vh'
    frame.style.position = 'fixed'; frame.style.zIndex = 85
    const rot = (Math.random()*40 - 20)
    frame.style.transform = `rotate(${rot}deg)`
    const interval = setInterval(()=>{
      const dx = (Math.random()*48 - 24); const dy = (Math.random()*48 - 24)
      const r = rot + (Math.random()*50 - 25)
      frame.style.transform = `translate(${dx}px, ${dy}px) rotate(${r}deg)`
    }, 800 + Math.random()*1600)
    const img = document.createElement('img'); img.src='meme.png'; img.alt='meme'
    frame.appendChild(img)
    frame.addEventListener('click', ()=>{
      clearInterval(interval)
      $$('.meme-frame').forEach(m => { m.style.transition='opacity .45s ease'; m.style.opacity = 0 })
      setTimeout(()=> { $$('.meme-frame').forEach(m=>m.remove()); showConfession() }, 420)
    })
    frame.addEventListener('touchend', (e)=>{ e.preventDefault(); frame.click(); }, {passive:false})
    document.body.appendChild(frame)
  }
}

/* show confession: center block, animate per-char bounce, spawn hearts + film overlay */
function showConfession(){
  sectionLove.scrollIntoView({behavior:'smooth'})
  filmOverlay.style.display = 'block'
  bgRomantic.classList.add('active')
  spawnRomanticHearts(26, 3800)
  const raw = confessionText.textContent.trim()
  const segments = raw.split(/(?<=[\.!?])\s+|,\s+/)
  confessionText.innerHTML = ''
  segments.forEach((seg, sidx)=>{
    const p = document.createElement('p'); p.style.margin='8px 0'; p.style.fontSize='1.06em'
    for(let i=0;i<seg.length;i++){
      const ch = seg[i]
      const span = document.createElement('span'); span.className = 'confessionChar'; span.textContent = ch
      const delay = (sidx * 0.35) + (i * 0.02) + Math.random()*0.06
      span.style.animation = `charBounce 1.6s cubic-bezier(.2,.8,.2,1) ${delay}s infinite`
      p.appendChild(span)
    }
    confessionText.appendChild(p)
    setTimeout(()=> { p.style.opacity = '1'; p.style.transform='translateY(0)' }, 260 + sidx*420)
  })
  const box = document.querySelector('.confession-box'); box.classList.add('breathing')
  setTimeout(()=> { sectionLove.scrollIntoView({behavior:'smooth', block:'center'}) }, 700)
}

/* spawn romantic heart emoji particles */
function spawnRomanticHearts(count=20, lifespan=3500){
  const container = document.getElementById('romParticles')
  if(!container) return
  container.innerHTML = ''
  for(let i=0;i<count;i++){
    const h = document.createElement('div')
    h.style.position='absolute'
    const size = 10 + Math.random()*22
    h.style.width = size+'px'; h.style.height = size+'px'
    h.style.left = (10 + Math.random()*80) + '%'
    h.style.top = (70 + Math.random()*20) + '%'
    h.style.zIndex = 40; h.style.pointerEvents = 'none'; h.style.opacity = 0
    h.style.fontSize = size+'px'; h.style.lineHeight = size+'px'; h.style.textAlign = 'center'; h.textContent = '‚ù§'
    h.style.color = `rgba(255,${180+Math.round(Math.random()*60)},${200+Math.round(Math.random()*20)},${0.8})`
    container.appendChild(h)
    const dx = (Math.random()*80 - 40); const dy = (80 + Math.random()*80); const rot = (Math.random()*360-180)
    const dur = lifespan + Math.random()*1200
    h.animate([{ transform:`translate(0,0) rotate(0deg)`, opacity:0 }, { transform:`translate(${dx}px, -${dy}px) rotate(${rot}deg)`, opacity:1 }, { transform:`translate(${dx*1.2}px, -${dy*1.6}px) rotate(${rot*1.3}deg)`, opacity:0 }], { duration: dur, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' })
    setTimeout(()=> h.remove(), dur + 200)
  }
  setTimeout(()=> bgRomantic.classList.remove('active'), 4200)
}

/* heart click -> open video overlay */
document.getElementById('heartBtn').addEventListener('click', ()=>{
  videoOverlay.style.display = 'flex'
  try{ secretVideo.play().catch(()=>{}) }catch(e){}
})

/* close video on outside click */
videoOverlay.addEventListener('click', e=>{
  if(e.target === videoOverlay){
    videoOverlay.style.display = 'none'
    try{ secretVideo.pause() }catch(e){}
  }
})

/* accessibility: keyboard */
document.getElementById('heartBtn').addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); e.target.click() } })
finalSpoiler.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); finalSpoiler.click() } })

</script>
</body>
</html>
