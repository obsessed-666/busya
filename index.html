<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ë—É—Å–∏</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --vh:1vh;
  --safe-top:env(safe-area-inset-top,0px);
  --safe-right:env(safe-area-inset-right,0px);
  --safe-bottom:env(safe-area-inset-bottom,0px);
  --safe-left:env(safe-area-inset-left,0px);
}
html,body{
  height:100%;
  width:100%;
  background:#070711;
  color:#fff;
  font-family:Montserrat,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  -webkit-font-smoothing:antialiased;
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
}
img{display:block;max-width:100%;-webkit-user-drag:none;user-select:none}
button,[role="button"],.tap-target{-webkit-tap-highlight-color:transparent;touch-action:manipulation}

body{
  overflow-y:auto;
  overflow-x:hidden;
  -webkit-overflow-scrolling:touch;
  scroll-behavior:smooth;
  scroll-snap-type:y mandatory;
}

#page{position:relative;min-height:100%;}
.section{
  min-height:100vh;
  min-height:100dvh;
  min-height:calc(var(--vh,1vh) * 100);
  width:100%;
  padding:clamp(16px,3.8vw,30px);
  padding-top:max(clamp(16px,3.8vw,30px),var(--safe-top));
  padding-right:max(clamp(16px,3.8vw,30px),var(--safe-right));
  padding-bottom:max(clamp(16px,3.8vw,30px),var(--safe-bottom));
  padding-left:max(clamp(16px,3.8vw,30px),var(--safe-left));
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  scroll-snap-align:start;
}

.bg-mystic,.bg-romantic{position:fixed;inset:0;z-index:-10;pointer-events:none;overflow:hidden;transition:opacity .9s ease}
.bg-mystic{background:radial-gradient(circle at 20% 10%,#21243f 0,#090b16 35%,#030308 100%);opacity:1}
.bg-mystic::before,.bg-mystic::after{content:"";position:absolute;inset:-20%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.08) 0 10%,transparent 40%);filter:blur(22px);animation:fog 20s linear infinite;opacity:.28}
.bg-mystic::after{animation-duration:28s;animation-direction:reverse;opacity:.16}
@keyframes fog{0%{transform:translateY(0)}50%{transform:translateY(-80px)}100%{transform:translateY(0)}}

.bg-romantic{opacity:0;background:linear-gradient(125deg,#2f1056 0%,#6f4bbf 35%,#ff7eb6 70%,#ffd4e8 100%)}
.bg-romantic.active{opacity:1}
.bg-romantic .heart-particles{position:absolute;inset:0;pointer-events:none}

.cinema{pointer-events:none;position:fixed;inset:0;z-index:25}
.cinema::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.05) 0%,rgba(0,0,0,0) 34%,rgba(0,0,0,.66) 100%)}

#sectionIntro .cat-box{display:flex;flex-direction:column;align-items:center;gap:12px}
#catFrame{position:relative;border-radius:20px;padding:9px;background:linear-gradient(180deg,#2b1f17,#1a130d);box-shadow:0 35px 120px rgba(0,0,0,.65);border:5px solid rgba(255,255,255,.07);cursor:pointer;animation:catFloat 5.5s ease-in-out infinite}
#catFrame::after{content:"";position:absolute;inset:6px;border-radius:14px;box-shadow:inset 0 24px 46px rgba(0,0,0,.24);pointer-events:none}
#cat{width:min(82vw,480px);aspect-ratio:3/4;object-fit:cover;border-radius:12px}
@keyframes catFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-9px)}}
.hint{font-size:14px;padding:8px 12px;background:rgba(0,0,0,.24);border-radius:999px}

#sectionStory{align-items:flex-start}
.story-wrap{width:min(100%,940px);margin-top:8vh;padding:clamp(15px,4vw,28px);background:linear-gradient(180deg,rgba(10,12,20,.26),rgba(7,8,12,.2));border-radius:15px;box-shadow:0 24px 60px rgba(0,0,0,.55);backdrop-filter:blur(6px);font-size:16px;line-height:1.72;color:#eceef9}
.story-par{margin-bottom:14px}

.spoiler{position:relative;display:inline-block;padding:12px 14px;border-radius:12px;background:linear-gradient(180deg,#0f1017,#0a0a10);cursor:pointer;overflow:hidden}
.spoiler .line{position:relative;z-index:2;color:transparent;transition:color .55s ease}
.spoiler .beer-word{color:transparent;text-decoration:none;font-weight:700;cursor:pointer;pointer-events:auto}
.spoiler.open .line{color:#fff}
.spoiler.open .beer-word{color:#ffd166;text-decoration:underline}
.spoiler .veil{position:absolute;inset:0;z-index:3;background:linear-gradient(120deg,rgba(24,26,32,.96),rgba(7,8,10,.98));backdrop-filter:blur(12px) saturate(.88);transition:transform .56s cubic-bezier(.2,.9,.3,1),opacity .56s}
.spoiler .veil::before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(90deg,rgba(255,255,255,.02) 0 1px,transparent 1px 4px)}
.spoiler.open .veil{transform:translateY(-120%);opacity:0}

#beerLayer{position:fixed;inset:0;z-index:60;pointer-events:none}
#beerSprite{position:absolute;left:50%;top:-360px;width:min(34vw,165px);transform:translateX(-50%) rotate(0deg);filter:drop-shadow(0 26px 50px rgba(0,0,0,.55));display:none;will-change:transform,top,left}
.puddle{position:absolute;left:50%;bottom:14vh;transform:translateX(-50%) scaleX(.2);width:26px;height:12px;border-radius:999px;background:radial-gradient(circle,#ffe278,#ffbb52);filter:blur(2px);opacity:0;box-shadow:0 7px 20px rgba(0,0,0,.4)}
.ripple{position:absolute;left:50%;bottom:14vh;transform:translateX(-50%) scale(.2);width:22px;height:10px;border-radius:50%;border:2px solid rgba(255,220,120,.8);opacity:0}
.splash{position:absolute;width:9px;height:9px;border-radius:50%;background:#ffd56e;pointer-events:none;z-index:62}
.page-shake{animation:pageShake .62s linear}
@keyframes pageShake{0%{transform:translate(0)}20%{transform:translate(-4px,3px)}40%{transform:translate(4px,-4px)}60%{transform:translate(-3px,2px)}80%{transform:translate(3px,-2px)}100%{transform:translate(0)}}

#memeLayer{position:fixed;inset:0;z-index:80;pointer-events:none}
.meme-frame{position:absolute;width:min(27vw,128px);padding:6px;border-radius:10px;background:linear-gradient(180deg,#2e241a,#1a120c);border:6px solid rgba(22,15,10,.9);box-shadow:0 24px 70px rgba(0,0,0,.55);overflow:hidden;cursor:pointer;pointer-events:auto;transform-origin:center;animation:memeDrift 5.8s ease-in-out infinite}
.meme-frame img{width:100%;height:100%;object-fit:cover;filter:contrast(1.07) saturate(1.04)}
.meme-frame::after{content:"";position:absolute;inset:0;box-shadow:inset 0 0 65px rgba(0,0,0,.48)}
@keyframes memeDrift{0%,100%{transform:translateY(0) rotate(-7deg)}50%{transform:translateY(-18px) rotate(7deg)}}

#sectionLove{align-items:center;justify-content:center}
.confession-wrap{width:100%;display:flex;align-items:center;justify-content:center}
.confession-box{width:min(100%,920px);padding:clamp(18px,4vw,28px);border-radius:16px;background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03));box-shadow:0 30px 110px rgba(0,0,0,.5);color:#ffe4ec;line-height:1.62;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;overflow:hidden}
.breathing{animation:breathText 3.8s ease-in-out infinite}
@keyframes breathText{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-3px) scale(1.005)}}
#confessionText{font-family:"Snell Roundhand","Segoe Script","Comic Sans MS",cursive;font-size:clamp(28px,6.2vw,42px)}
#confessionText p{opacity:0;transform:translateY(10px);transition:.44s ease;margin:7px 0}
.confession-char{display:inline-block;transform-origin:center bottom}
@keyframes charBounce{0%{transform:translateY(0)}40%{transform:translateY(-5px)}70%{transform:translateY(-2px)}100%{transform:translateY(0)}}

.heart-btn{font-size:52px;margin-top:14px;cursor:pointer;color:#ff4f7d;text-shadow:0 7px 20px rgba(255,79,125,.45);animation:heartPulse 1.6s ease-in-out infinite}
@keyframes heartPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.12)}}
.heart-caption{margin-top:6px;font-size:13px;color:#ffd4e0}

.film-overlay{pointer-events:none;position:absolute;inset:0;z-index:3;mix-blend-mode:overlay;display:none}
.film-grain{position:absolute;inset:0;background-image:repeating-linear-gradient(0deg,rgba(0,0,0,.028) 0 1px,rgba(255,255,255,.01) 1px 2px);opacity:.18;animation:grainMove 1.2s steps(4) infinite}
@keyframes grainMove{0%{transform:translate(0,0)}25%{transform:translate(-2px,1px)}50%{transform:translate(1px,-2px)}75%{transform:translate(-1px,2px)}100%{transform:translate(0,0)}}
.film-burn{position:absolute;inset:0;background:radial-gradient(circle at 18% 84%,rgba(255,130,80,.1),transparent 20%),radial-gradient(circle at 82% 8%,rgba(255,80,120,.08),transparent 18%);opacity:.55;animation:burnPulse 6.6s ease-in-out infinite}
@keyframes burnPulse{0%,100%{opacity:.45}50%{opacity:.74}}

#videoOverlay{position:fixed;inset:0;z-index:180;background:rgba(0,0,0,.94);display:none;align-items:center;justify-content:center;padding:max(14px,var(--safe-top)) max(14px,var(--safe-right)) max(14px,var(--safe-bottom)) max(14px,var(--safe-left))}
#videoOverlay video{width:94vw;max-width:900px;max-height:78vh;border-radius:12px;background:#000;box-shadow:0 22px 70px rgba(0,0,0,.6)}
.video-placeholder{display:none;width:min(92vw,520px);padding:20px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.1),rgba(255,255,255,.04));text-align:center;line-height:1.5}

.fade-out{opacity:0 !important;transform:scale(.97);transition:.6s ease}

@media (max-width:430px){
  body{scroll-snap-type:y proximity}
  .section{padding-top:max(14px,var(--safe-top));padding-bottom:max(16px,var(--safe-bottom))}
  #cat{width:min(88vw,390px)}
  .story-wrap{font-size:15px;line-height:1.62}
  .meme-frame{width:min(30vw,116px);border-width:5px}
}
</style>
</head>
<body>
<div id="page">
  <div class="bg-mystic" id="bgMystic"></div>
  <div class="bg-romantic" id="bgRomantic"><div class="heart-particles" id="heartParticles"></div></div>
  <div class="cinema"></div>

  <section class="section" id="sectionIntro" aria-label="–ö–æ—Ç –ë—É—Å—è">
    <div class="cat-box">
      <div class="tap-target" id="catFrame" role="button" tabindex="0" aria-label="–ù–∞–∂–º–∏ –Ω–∞ –∫–æ—Ç–∏–∫–∞">
        <img id="cat" src="cat.jpg" alt="–∫–æ—Ç –ë—É—Å—è ‚Äî –Ω–∞–∂–º–∏" />
      </div>
      <div class="hint">–Ω–∞–∂–º–∏ –Ω–∞ –∫–æ—Ç–∏–∫–∞ üêæ</div>
    </div>
  </section>

  <section class="section" id="sectionStory" aria-label="–†–∞—Å—Å–∫–∞–∑">
    <div class="story-wrap" id="storyWrap">
      <p class="story-par">–û–¥–Ω–∞–∂–¥—ã —è —Å–∏–¥–µ–ª –∫–∞–∫ –Ω–∏ –≤ —á—ë–º –Ω–µ –±—ã–≤–∞–ª–æ –¥–æ–º–∞, —Å–ª—É—à–∞–ª –≥—Ä—É—Å—Ç–Ω—É—é –º—É–∑—ã–∫—É, —Å–º–æ—Ç—Ä–µ–ª –≤ –æ–∫–Ω–æ, –¥—É–º–∞–ª –æ —Å–≤–æ—ë–º —Ç–ª–µ–Ω–Ω–æ–º –±—É–¥—É—â–µ–º, –∫–∞–∫ –≤–¥—Ä—É–≥‚Ä¶ –∑–≤–æ–Ω–æ–∫ –≤ –¥–≤–µ—Ä—å. –Ø –æ–ø–µ—à–∏–ª, –≤–µ–¥—å –±—ã–ª–æ 3 —á–∞—Å–∞ –Ω–æ—á–∏, –∏ —è –Ω–∏–∫–æ–≥–æ –Ω–µ –∂–¥–∞–ª. –í —Ç–æ—Ç –¥–µ–Ω—å –æ—â—É—â–µ–Ω–∏—è –ø–æ–∏—Å—Ç–∏–Ω–µ –±—ã–ª–∏ —Å—Ç—Ä–∞–Ω–Ω—ã–µ. –ù–∞ –¥–≤–æ—Ä–µ —Å—Ç–æ—è–ª–∞ –ª—ë–≥–∫–∞—è –¥—ã–º–∫–∞, –∞ –Ω–∞ –Ω–µ–±–µ –æ—Ç—á—ë—Ç–ª–∏–≤–æ –≤–∏–¥–Ω–µ–ª–∞—Å—å —è—Ä–∫–∞—è –ø–æ–ª–Ω–∞—è –ª—É–Ω–∞, –ø—Ä—è–º–æ –∫–∞–∫ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Äî –º—Ä–∞—á–Ω–∞—è –∏ –∑–∞–≥–∞–¥–æ—á–Ω–∞—è. –ü–æ–≥–æ–¥–∞ –∑–∞ –æ–∫–Ω–æ–º –ª–∏—à—å –¥–æ–±–∞–≤–ª—è–ª–∞ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–º—É —Å–æ–±—ã—Ç–∏—é.</p>
      <p class="story-par">¬´–£ —Å–æ—Å–µ–¥–∞, –Ω–∞–≤–µ—Ä–Ω–æ–µ, —á—Ç–æ-—Ç–æ —Å—Ç—Ä—è—Å–ª–æ—Å—å¬ª, ‚Äî –ø–æ—á–µ—Å–∞–≤ —Ä–µ–ø—É, –ø–æ–¥—É–º–∞–ª —è. –ù–æ —á—É–≤—Å—Ç–≤–æ —Ç—Ä–µ–≤–æ–≥–∏ –∑–∞—Ç–º–∏–ª–æ –º–æ–π —Ä–∞—Å—Å—É–¥–æ–∫, –∏ —è –º–µ–¥–ª–µ–Ω–Ω–æ, —Ç–∏—Ö–∏–º —à–∞–≥–æ–º –ø–æ–¥–æ—à—ë–ª –∫ –≤—Ö–æ–¥–Ω–æ–π –¥–≤–µ—Ä–∏. –°—Ç–æ—è–ª–∞ –ø–æ–ª–Ω–µ–π—à–∞—è —Ç–∏—à–∏–Ω–∞. –Ø –ø—ã—Ç–∞–ª—Å—è –ø—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è –∫ –∑–≤—É–∫–∞–º –ø–æ —Ç—É —Å—Ç–æ—Ä–æ–Ω—É –¥–≤–µ—Ä–∏, –Ω–æ –∏—Ö –Ω–µ –±—ã–ª–æ. –Ø —Å—Ç–æ—è–ª —Ç–∞–∫ –≥–¥–µ-—Ç–æ –º–∏–Ω—É—Ç—É, –Ω–æ –ø–æ –æ—â—É—â–µ–Ω–∏—è–º –æ–Ω–∞ –¥–ª–∏–ª–∞—Å—å —Ü–µ–ª—É—é –≤–µ—á–Ω–æ—Å—Ç—å. –í –≥–æ–ª–æ–≤–µ –±—ã–ª–∞ –ª–∏—à—å —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å –∏ —Å–º—è—Ç–µ–Ω–∏–µ.</p>
      <p class="story-par">–ö–∞–∫ –≤–¥—Ä—É–≥ —è —É—Å–ª—ã—à–∞–ª —Å—Ç—Ä–∞–Ω–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø, –±—É–¥—Ç–æ –∫—Ç–æ-—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ –≤–æ–¥–∏–ª –Ω–æ–≥—Ç–µ–º –ø–æ —Å—Ç–∞–ª—å–Ω–æ–º—É –ª–∏—Å—Ç—É. –Ø —Å–∏–ª—å–Ω–æ –Ω–∞–ø—Ä—è–≥—Å—è, –≤—Å—ë —Ç–µ–ª–æ —Å –≥–æ–ª–æ–≤—ã –¥–æ –Ω–æ–≥ –ø—Ä–æ–±—Ä–∞–ª–æ –º—É—Ä–∞—à–∫–∞–º–∏, —è –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª —Ä–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–∞ ‚Äî —Ä–∞–∑—É–º —è–≤–Ω–æ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª, —á—Ç–æ —á—Ç–æ-—Ç–æ —Ç—É—Ç –Ω–µ —Ç–∞–∫. –Ø –Ω–∞–±—Ä–∞–ª—Å—è —Å–º–µ–ª–æ—Å—Ç–∏ –∏, —Å—Ü–µ–ø–∏–≤ –∑—É–±—ã, –≤—ã–¥–∞–≤–∏–ª –∏–∑ —Å–µ–±—è: ‚ÄûWer ist da?‚Äú –ù–æ, –∫–∞–∫ —è –∏ –æ–∂–∏–¥–∞–ª, –æ—Ç–≤–µ—Ç–∞ –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–æ. –õ–∏—à—å —ç—Ç–æ—Ç –¥–æ –¥—Ä–æ–∂–∏ –ø—Ä–æ—Ç–∏–≤–Ω—ã–π –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∑–≤—É–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–Ω–∏–∫–∞–ª –≤ –∫–∞–∂–¥—É—é –∫–ª–µ—Ç–æ—á–∫—É –º–æ–∑–≥–∞‚Ä¶ –û—â—É—â–∞–ª–æ—Å—å, –±—É–¥—Ç–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä—è–º–æ —É –º–µ–Ω—è –≤ –≥–æ–ª–æ–≤–µ, –±—É–¥—Ç–æ –∫—Ç–æ-—Ç–æ —Å –∏–∑–¥—ë–≤–∫–æ–π –≤–æ–¥–∏—Ç –ø–æ –Ω–µ–º—É —Å–∫—Ä–∏–ø—É—á–µ–π –∂–µ–ª–µ–∑—è–∫–æ–π.</p>
      <p class="story-par">–ò –≤–¥—Ä—É–≥ ‚Äî —Ç–∏—à–∏–Ω–∞. –°–Ω–æ–≤–∞. –Ø –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ –∫—Ç–æ –±—ã —Ç–æ –Ω–∏ –±—ã–ª –∑–∞ –¥–≤–µ—Ä—å—é, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç–æ–∂–µ —É—Å–ª—ã—à–∞–ª, –∫–∞–∫ —è —Å—Ç–æ—é –∏ –º–æ–ª—á–∞ —Å–ª—É—à–∞—é, –≤–Ω–∏–º–∞—è —ç—Ç–æ—Ç –ø—Å–∏—Ö–æ–¥–µ–ª–∏—á–µ—Å–∫–∏–π —É–∂–∞—Å. –ì–¥–µ-—Ç–æ —Å–ø—É—Å—Ç—è —Å–µ–∫—É–Ω–¥ 20 —Ä–∞–∑–¥–∞–ª—Å—è –≥—Ä–æ–º–∫–∏–π –∂–µ–ª–µ–∑–Ω—ã–π –∑–≤—É–∫ ‚Äî –∑–≤—É–∫ –ø–∞–¥–µ–Ω–∏—è –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ –º–æ–µ–π –≥—Ä—ë–±–∞–Ω–Ω–æ–π –¥–≤–µ—Ä—å—é. –Ø –Ω–∞–±—Ä–∞–ª—Å—è —Å–º–µ–ª–æ—Å—Ç–∏ –∏ –ø—Ä–∏—Å–ª–æ–Ω–∏–ª —É—Ö–æ –∫ –¥–≤–µ—Ä–∏, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∂–µ —É–ø–∞–ª–æ... –∏ —á—Ç–æ, —á—ë—Ä—Ç –≤–æ–∑—å–º–∏, —Ç—É—Ç –≤–æ–æ–±—â–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.</p>
      <p class="story-par">–ö–∞–∫ –≤–¥—Ä—É–≥, –∫–∞–∫ –≥—Ä–æ–º —Å—Ä–µ–¥–∏ —è—Å–Ω–æ–≥–æ –¥–Ω—è, –∫–∞–∫ —Å–Ω–µ–≥ –≤ –∏—é–ª–µ, —è —É—Å–ª—ã—à–∞–ª –Ω–µ–∂–Ω—ã–π, –º–∏–ª—ã–π –∏ –¥–æ –±–æ–ª–∏ –∑–Ω–∞–∫–æ–º—ã–π –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–µ—Å–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∏–∑–Ω—ë—Å:</p>

      <div class="spoiler tap-target" id="finalSpoiler" role="button" tabindex="0" aria-pressed="false" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω—á–ª–∞–π–Ω">
        <div class="veil" aria-hidden="true"></div>
        <div class="line">‚Äî –û–π, –∏–∑–≤–∏–Ω–∏, —É –º–µ–Ω—è <span class="beer-word tap-target" id="beerWord" role="button" tabindex="0" aria-label="–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞–¥–µ–Ω–∏–µ –ø–∏–≤–∞">–ø–∏–≤–æ</span> —É–ø–∞–ª–æ.</div>
      </div>
    </div>
  </section>

  <section class="section" id="sectionMemes" aria-label="–ú–µ–º—ã"></section>

  <section class="section" id="sectionLove" aria-label="–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ">
    <div class="confession-wrap">
      <div class="confession-box" id="confessionBox" role="dialog" aria-label="–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ">
        <div class="film-overlay" id="filmOverlay" aria-hidden="true">
          <div class="film-grain"></div>
          <div class="film-burn"></div>
        </div>

        <div id="confessionText">–±—É—Å—è, –∫–æ—Ç–∏–∫, —è –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å —Ç–æ–±–æ–π –ª–∏—à—å –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥, –Ω–æ –≤–æ –º–Ω–µ —Ç–µ–ø–ª–∏—Ç—Å—è —á—É–≤—Å—Ç–≤–æ, –±—É–¥—Ç–æ —è –∑–Ω–∞–ª —Ç–µ–±—è –≤–æ –≤—Å–µ—Ö —Å–≤–æ–∏—Ö –ø—Ä–æ—à–ª—ã—Ö –∂–∏–∑–Ω—è—Ö, –≤–µ–¥—å –±–æ–ª–µ–µ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç—á–∞ –Ω–∞ –∑–µ–º–ª–µ –µ—â–µ –Ω–µ –±—ã–ª–æ. –∏ –Ω–µ –±—É–¥–µ—Ç. —Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –¥–∞—Ä–∏—à—å –º–Ω–µ —Ç—É —Å–∞–º—É—é —Ä–∞–¥–æ—Å—Ç—å –∏ —É–ª—ã–±–∫—É, –∫–æ—Ç–æ—Ä—ã—Ö —É –º–µ–Ω—è –æ—á–µ–Ω—å –¥–∞–≤–Ω–æ –Ω–µ –±—ã–ª–æ. –ø–æ–ª–≥–æ–¥–∞ –Ω–∞–∑–∞–¥ —è –∏ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —Å–º–æ–≥—É –ø–æ–ª—é–±–∏—Ç—å –∫–æ–≥–æ-—Ç–æ —Ç–∞–∫ —Å–∏–ª—å–Ω–æ –∫–∞–∫ —Ç–µ–±—è. –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –∂–¥—É –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏, —è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Ü–µ–ª—É—é —Ç–µ–±—è –ø–æ–¥ –ø—Ä–∏–ø–µ–≤ —ç—Ç–æ–π –ø–µ—Å–Ω–∏</div>
        <div class="heart-btn tap-target" id="heartBtn" role="button" tabindex="0" aria-label="–ù–∞–∂–∞—Ç—å —Å–µ—Ä–¥–µ—á–∫–æ">üíò</div>
        <div class="heart-caption">—Å–µ—Ä–¥–µ—á–∫–æ —Ç—ã–∫</div>
      </div>
    </div>
  </section>

  <div id="beerLayer" aria-hidden="true">
    <img id="beerSprite" src="beer.png" alt="–±–∞–Ω–∫–∞ Desperados" />
    <div class="puddle" id="puddle"></div>
    <div class="ripple" id="ripple"></div>
  </div>

  <div id="memeLayer" aria-hidden="true"></div>

  <div id="videoOverlay" aria-hidden="true">
    <video id="secretVideo" src="video.mp4" controls playsinline webkit-playsinline preload="metadata"></video>
    <div class="video-placeholder" id="videoPlaceholder" role="status" aria-live="polite">
      <div style="font-size:44px">üé¨</div>
      <div>–í–∏–¥–µ–æ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –∑–¥–µ—Å—å.</div>
      <div style="opacity:.78;font-size:14px;margin-top:6px">–ü–æ–∫–∞ —á—Ç–æ –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ñ–∏–Ω–∞–ª–∞ üíù</div>
    </div>
  </div>

  <audio id="darkMusic" src="dark.mp3" preload="auto"></audio>
  <audio id="loveMusic" src="love.mp3" preload="auto"></audio>
</div>

<script>
const $ = (s) => document.querySelector(s)
const $$ = (s) => Array.from(document.querySelectorAll(s))

const sectionIntro = $('#sectionIntro')
const sectionStory = $('#sectionStory')
const sectionMemes = $('#sectionMemes')
const sectionLove = $('#sectionLove')
const storyWrap = $('#storyWrap')
const bgMystic = $('#bgMystic')
const bgRomantic = $('#bgRomantic')
const heartParticles = $('#heartParticles')
const finalSpoiler = $('#finalSpoiler')
const beerWord = $('#beerWord')
const beerSprite = $('#beerSprite')
const puddle = $('#puddle')
const ripple = $('#ripple')
const memeLayer = $('#memeLayer')
const confessionBox = $('#confessionBox')
const confessionText = $('#confessionText')
const filmOverlay = $('#filmOverlay')
const heartBtn = $('#heartBtn')
const videoOverlay = $('#videoOverlay')
const secretVideo = $('#secretVideo')
const videoPlaceholder = $('#videoPlaceholder')
const darkMusic = $('#darkMusic')
const loveMusic = $('#loveMusic')

let beerStarted = false
let romanceStarted = false
let audioUnlocked = false

function syncVH(){
  const vh = (window.visualViewport?.height || window.innerHeight) * 0.01
  document.documentElement.style.setProperty('--vh', `${vh}px`)
}
syncVH()
window.addEventListener('resize', syncVH, {passive:true})
window.addEventListener('orientationchange', syncVH, {passive:true})
window.addEventListener('pageshow', syncVH, {passive:true})

function fadeAudio(audio, target = 0.2, ms = 900){
  const start = audio.volume || 0
  const startAt = performance.now()
  function tick(now){
    const k = Math.min(1, (now - startAt) / ms)
    audio.volume = start + ((target - start) * k)
    if(k < 1) requestAnimationFrame(tick)
  }
  requestAnimationFrame(tick)
}

function playWithFade(audio, target = 0.2, ms = 900){
  audio.volume = 0
  audio.play().catch(()=>{})
  fadeAudio(audio, target, ms)
}

function unlockAudio(){
  if(audioUnlocked) return
  audioUnlocked = true
  darkMusic.volume = 0
  loveMusic.volume = 0
  darkMusic.play().then(()=>darkMusic.pause()).catch(()=>{})
  loveMusic.play().then(()=>loveMusic.pause()).catch(()=>{})
}
window.addEventListener('touchstart', unlockAudio, {once:true, passive:true})
window.addEventListener('click', unlockAudio, {once:true})

function openStory(){
  sectionStory.scrollIntoView({behavior:'smooth', block:'start'})
  playWithFade(darkMusic, 0.18, 1100)
}

$('#catFrame').addEventListener('click', openStory)
$('#catFrame').addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openStory() }})

function revealSpoiler(){
  if(finalSpoiler.classList.contains('open')) return
  finalSpoiler.classList.add('open')
  finalSpoiler.setAttribute('aria-pressed','true')
}

finalSpoiler.addEventListener('click', (e)=>{
  if(e.target.closest('#beerWord')) return
  revealSpoiler()
})
finalSpoiler.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); revealSpoiler() }})

function spawnSplash(x, y){
  const count = 18
  for(let i=0;i<count;i++){
    const d = document.createElement('div')
    d.className = 'splash'
    d.style.left = `${x}px`
    d.style.top = `${y}px`
    const dx = (Math.random() * 220) - 110
    const dy = -(55 + Math.random() * 140)
    const rot = Math.random() * 180 - 90
    d.animate([
      {transform:'translate(0,0) scale(1)',opacity:1},
      {transform:`translate(${dx}px, ${dy}px) rotate(${rot}deg) scale(1)`,opacity:1},
      {transform:`translate(${dx*1.2}px, ${dy+190}px) rotate(${rot*1.2}deg) scale(.3)`,opacity:0}
    ], {duration:1000 + Math.random() * 350, easing:'cubic-bezier(.2,.9,.2,1)', fill:'forwards'})
    document.body.appendChild(d)
    setTimeout(()=>d.remove(), 1400)
  }
}

function shakePage(){
  document.body.classList.add('page-shake')
  if(navigator.vibrate) navigator.vibrate(90)
  setTimeout(()=>document.body.classList.remove('page-shake'), 620)
}

function beerAnimation(){
  if(beerStarted) return
  beerStarted = true
  revealSpoiler()

  beerSprite.style.display = 'block'
  let x = window.innerWidth * 0.5
  let y = -300
  let vx = (Math.random() * 140 - 70) * 0.001
  let vy = 0
  let angle = Math.random() * 20 - 10
  let av = Math.random() * 7 - 3.5
  const gravity = 2600
  const drag = 0.997
  const groundY = Math.round(window.innerHeight * 0.68)
  let last = performance.now()
  let bounce = 0

  function tick(now){
    const dt = Math.min(0.034, (now - last) / 1000)
    last = now

    vy += gravity * dt
    vx *= drag
    x += vx * 1000 * dt
    y += vy * dt
    angle += av
    av *= 0.992

    if(y >= groundY){
      y = groundY
      if(bounce < 2){
        vy *= -0.29
        av *= -0.6
        bounce++
      } else {
        vy = 0
        av *= 0.8
        angle *= 0.96
      }
    }

    beerSprite.style.left = `${x}px`
    beerSprite.style.top = `${y}px`
    beerSprite.style.transform = `translateX(-50%) rotate(${angle}deg)`

    if(!(bounce >= 2 && Math.abs(vy) < 14 && y >= groundY)){
      requestAnimationFrame(tick)
    } else {
      shakePage()
      spawnSplash(x, groundY + 36)
      puddle.animate([
        {opacity:0, width:'24px', transform:'translateX(-50%) scaleX(.2)'},
        {opacity:1, width:'240px', transform:'translateX(-50%) scaleX(1)'}
      ], {duration:850, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
      ripple.animate([
        {opacity:.85, width:'18px', height:'8px', transform:'translateX(-50%) scale(.3)'},
        {opacity:0, width:'320px', height:'74px', transform:'translateX(-50%) scale(1)'}
      ], {duration:880, easing:'ease-out', fill:'forwards'})

      setTimeout(startRomance, 1300)
    }
  }
  requestAnimationFrame(tick)
}

beerWord.addEventListener('click', (e)=>{ e.stopPropagation(); beerAnimation() })
beerWord.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); beerAnimation() }})

function spawnHearts(num = 18){
  heartParticles.innerHTML = ''
  for(let i=0;i<num;i++){
    const h = document.createElement('div')
    const size = 12 + Math.random() * 24
    h.textContent = '‚ù§'
    h.style.position = 'absolute'
    h.style.left = `${6 + Math.random() * 88}%`
    h.style.top = `${72 + Math.random() * 22}%`
    h.style.fontSize = `${size}px`
    h.style.opacity = '0'
    h.style.color = `rgba(255,${170 + Math.round(Math.random() * 70)},${190 + Math.round(Math.random() * 60)},0.86)`
    heartParticles.appendChild(h)
    const dx = Math.random() * 90 - 45
    const dy = 70 + Math.random() * 95
    const rot = Math.random() * 260 - 130
    const dur = 2900 + Math.random() * 1100
    h.animate([
      {transform:'translate(0,0) rotate(0deg)',opacity:0},
      {transform:`translate(${dx}px,-${dy}px) rotate(${rot}deg)`,opacity:1},
      {transform:`translate(${dx*1.4}px,-${dy*1.7}px) rotate(${rot*1.3}deg)`,opacity:0}
    ], {duration:dur, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards'})
    setTimeout(()=>h.remove(), dur + 180)
  }
}

function createMemes(count = 9){
  memeLayer.innerHTML = ''
  for(let i=0;i<count;i++){
    const frame = document.createElement('div')
    frame.className = 'meme-frame tap-target'
    frame.style.left = `${4 + Math.random() * 90}%`
    frame.style.top = `${8 + Math.random() * 78}%`
    frame.style.animationDuration = `${3.8 + Math.random() * 1.6}s`
    frame.style.animationDelay = `${Math.random() * 0.8}s`
    frame.style.transform = `rotate(${Math.random() * 18 - 9}deg)`
    const img = document.createElement('img')
    img.src = 'meme.png'
    img.alt = '–º–µ–º'
    frame.appendChild(img)
    frame.addEventListener('click', ()=>{
      $$('.meme-frame').forEach(m => m.classList.add('fade-out'))
      setTimeout(()=> { memeLayer.innerHTML = ''; showConfession() }, 420)
    }, {once:true})
    memeLayer.appendChild(frame)
  }
}

function crossToLoveMusic(){
  const from = darkMusic
  const to = loveMusic
  to.currentTime = 0
  to.volume = 0
  to.play().catch(()=>{})

  const fromStart = from.volume || 0.18
  const t0 = performance.now()
  const ms = 1300
  function step(now){
    const k = Math.min(1, (now - t0) / ms)
    from.volume = fromStart * (1 - k)
    to.volume = 0.22 * k
    if(k < 1){
      requestAnimationFrame(step)
    } else {
      from.pause()
      from.currentTime = 0
    }
  }
  requestAnimationFrame(step)
}

function startRomance(){
  if(romanceStarted) return
  romanceStarted = true

  storyWrap.classList.add('fade-out')
  beerSprite.classList.add('fade-out')
  setTimeout(()=>{
    storyWrap.style.visibility = 'hidden'
    beerSprite.style.display = 'none'
  }, 620)

  bgMystic.style.opacity = .08
  bgRomantic.classList.add('active')
  spawnHearts()
  crossToLoveMusic()
  createMemes()
  sectionMemes.scrollIntoView({behavior:'smooth', block:'start'})
}

function animateConfessionText(){
  const text = confessionText.textContent
  const segments = text.split(/[\.\!\?]\s*/).map(s => s.trim()).filter(Boolean)
  confessionText.innerHTML = ''
  segments.forEach((line, li) => {
    const p = document.createElement('p')
    for(let i=0;i<line.length;i++){
      const span = document.createElement('span')
      span.className = 'confession-char'
      span.textContent = line[i]
      const delay = (li * .35) + (i * .02) + Math.random() * .04
      span.style.animation = `charBounce 1.6s cubic-bezier(.2,.8,.2,1) ${delay}s infinite`
      p.appendChild(span)
    }
    confessionText.appendChild(p)
    setTimeout(()=>{ p.style.opacity = '1'; p.style.transform = 'translateY(0)' }, 280 + li * 380)
  })
  confessionBox.classList.add('breathing')
}

function showConfession(){
  filmOverlay.style.display = 'block'
  animateConfessionText()
  sectionLove.scrollIntoView({behavior:'smooth', block:'center'})
}

function openVideoOverlay(){
  videoOverlay.style.display = 'flex'
  videoOverlay.setAttribute('aria-hidden', 'false')
  videoPlaceholder.style.display = 'none'
  secretVideo.style.display = 'block'
  secretVideo.muted = true
  secretVideo.play().then(()=>{
    secretVideo.pause()
    secretVideo.currentTime = 0
    secretVideo.muted = false
  }).catch(()=>{
    secretVideo.style.display = 'none'
    videoPlaceholder.style.display = 'block'
  })
}

heartBtn.addEventListener('click', openVideoOverlay)
heartBtn.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openVideoOverlay() }})

videoOverlay.addEventListener('click', (e)=>{
  if(e.target === videoOverlay){
    videoOverlay.style.display = 'none'
    videoOverlay.setAttribute('aria-hidden', 'true')
    try{ secretVideo.pause() }catch(_e){}
  }
})

secretVideo.addEventListener('error', ()=>{
  secretVideo.style.display = 'none'
  videoPlaceholder.style.display = 'block'
})
</script>
</body>
</html>
